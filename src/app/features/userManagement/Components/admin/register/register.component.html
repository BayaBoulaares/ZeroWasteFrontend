<!DOCTYPE html>
<html lang="en" class="light-style customizer-hide" dir="ltr" data-theme="theme-default" data-assets-path="../assets/" data-template="vertical-menu-template-free">

  <body>
    <!-- Content -->
    <div class="container-xxl">
      <div class="authentication-wrapper authentication-basic container-p-y">
        <div class="authentication-inner">
          <!-- Register Card -->
          <div class="card">
            <div class="card-body">
              <!-- Logo -->
              <div class="app-brand justify-content-center">
                <a href="index.html" class="app-brand-link gap-2">
                  <span class="app-brand-logo demo">
                    <!-- Logo SVG omitted for brevity -->
                  </span>
                  <span class="app-brand-text demo text-body fw-bolder">Sneat</span>
                </a>
              </div>
              <!-- /Logo -->
              <h4 class="mb-2">Adventure starts here ðŸš€</h4>
              <p class="mb-4">Make your app management easy and fun!</p>
              
              <!-- Error Message -->
              <div *ngIf="errorMessage" class="alert alert-danger" role="alert">
                {{ errorMessage }}
              </div>
              
              <!-- Registration Form -->
              <form #form="ngForm" (ngSubmit)="handleRegister()">
                <!-- Full Name Field -->
                <div class="mb-3">
                  <label for="username" class="form-label">Full name</label>
                  <input
                    type="text"
                    class="form-control"
                    id="username"
                    [(ngModel)]="user.name"
                    name="name"
                    placeholder="Enter your full name"
                    autofocus
                    required
                    minlength="3"
                    #name="ngModel"
                  />
                  <div *ngIf="name.invalid && name.touched" class="text-danger">
                    <small *ngIf="name.errors?.['required']">Full name is required.</small>
                    <small *ngIf="name.errors?.['minlength']">At least 3 characters.</small>
                  </div>
                </div>

                <!-- Email Field -->
                <div class="mb-3">
                  <label for="email" class="form-label">Email</label>
                  <input
                    type="email"
                    class="form-control"
                    id="email"
                    [(ngModel)]="user.email"
                    name="email"
                    placeholder="Enter your email"
                    required
                    email
                    #email="ngModel"
                  />
                  <div *ngIf="email.invalid && email.touched" class="text-danger">
                    <small *ngIf="email.errors?.['required']">Email is required.</small>
                    <small *ngIf="email.errors?.['email']">Invalid email format.</small>
                  </div>
                </div>

                <!-- Password Field -->
                <div class="mb-3">
                  <label for="password" class="form-label">Password</label>
                  <input
                    [type]="showPassword ? 'text' : 'password'"
                    class="form-control"
                    id="password"
                    [(ngModel)]="user.password"
                    name="password"
                    required
                    pattern="^(?=.*[a-z])(?=.*[A-Z])(?=.*\d)(?=.*[@$!%*?&]).{8,}$"
                    #password="ngModel"
                  />
                  <!-- Show/hide icon -->
                  <i
                    class="bx"
                    [ngClass]="showPassword ? 'bx-hide' : 'bx-show'"
                    (click)="togglePasswordVisibility()"
                    style="position: absolute; top: 70%; right: 10px; transform: translateY(-50%); cursor: pointer; z-index: 2; font-size: 20px; color: #6c757d;"
                  ></i>
                  <div *ngIf="password.invalid && password.touched" class="text-danger mt-1">
                    <small *ngIf="password.errors?.['required']">Password is required.</small>
                    <small *ngIf="password.errors?.['pattern']">Password must be at least 8 characters long, include uppercase and lowercase letters, a number, and a special character.</small>
                  </div>
                </div>

                <!-- City Field -->
                <div class="mb-3">
                  <label for="city" class="form-label">City</label>
                  <input
                    type="text"
                    class="form-control"
                    id="city"
                    [(ngModel)]="user.city"
                    name="city"
                    placeholder="Enter your city"
                    required
                    #city="ngModel"
                  />
                  <div *ngIf="city.invalid && city.touched" class="text-danger">
                    <small *ngIf="city.errors?.['required']">City is required.</small>
                  </div>
                </div>

                

                <!-- Submit Button -->
                <button type="submit" class="btn btn-primary" [disabled]="form.invalid">Create</button>
              </form>
            </div>
          </div>
        </div>
      </div>
    </div>
  </body>
</html>
